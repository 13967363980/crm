#pragma checksum "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "17114e70901c6037aa9063c42fb0796d38bc66dd"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Ques_StartAnswer), @"mvc.1.0.view", @"/Views/Ques/StartAnswer.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Ques/StartAnswer.cshtml", typeof(AspNetCore.Views_Ques_StartAnswer))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 1 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
using lsc.Model;

#line default
#line hidden
#line 2 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
using lsc.Model.Enume;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"17114e70901c6037aa9063c42fb0796d38bc66dd", @"/Views/Ques/StartAnswer.cshtml")]
    public class Views_Ques_StartAnswer : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<List<lsc.Model.UserQuestions>>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/layui/jquery.validate.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/layui/jquery.form.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(80, 2, true);
            WriteLiteral("\r\n");
            EndContext();
#line 5 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
  
    ViewData["Title"] = "StartAnswer";
    Layout = "~/Pages/_Layout.cshtml";
    List<Questions> list = ViewBag.list;
    List<Option> optionList = ViewBag.optionList;

#line default
#line hidden
            BeginContext(262, 64, true);
            WriteLiteral("<blockquote class=\"layui-elem-quote\">\r\n    正在答题\r\n</blockquote>\r\n");
            EndContext();
#line 14 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
 if (Model!=null)
{
    foreach (UserQuestions userQuestions in Model)
    {
        if (list!=null)
        {
            var question = list.FirstOrDefault(x => x.Id == userQuestions.QuestionsId);


#line default
#line hidden
            BeginContext(534, 44, true);
            WriteLiteral("            <div class=\"layui-row manage-ti\"");
            EndContext();
            BeginWriteAttribute("style", " style=\"", 578, "\"", 635, 2);
            WriteAttributeValue("", 586, "display:", 586, 8, true);
#line 22 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
WriteAttributeValue("", 594, userQuestions.QIndex==1?"block":"none", 594, 41, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginWriteAttribute("id", " id=\"", 636, "\"", 664, 1);
#line 22 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
WriteAttributeValue("", 641, userQuestions.QIndex, 641, 23, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(665, 43, true);
            WriteLiteral(">\r\n                <form class=\"layui-form\"");
            EndContext();
            BeginWriteAttribute("id", " id=\"", 708, "\"", 741, 2);
            WriteAttributeValue("", 713, "form_", 713, 5, true);
#line 23 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
WriteAttributeValue("", 718, userQuestions.QIndex, 718, 23, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(742, 71, true);
            WriteLiteral(" method=\"post\" action=\"/Ques/SaveUserAnswer\">\r\n                    <h3>");
            EndContext();
            BeginContext(815, 20, false);
#line 24 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
                    Write(userQuestions.QIndex);

#line default
#line hidden
            EndContext();
            BeginContext(836, 1, true);
            WriteLiteral("、");
            EndContext();
            BeginContext(839, 36, false);
#line 24 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
                                            Write(question!=null ? question.Content:"");

#line default
#line hidden
            EndContext();
            BeginContext(876, 7, true);
            WriteLiteral("</h3>\r\n");
            EndContext();
#line 25 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
                     if (question != null)
                    {
                        var options = optionList.Where(x => x.QuestionsId == userQuestions.QuestionsId).OrderBy(x => x.ItemIndex);
                        switch (question.QuestionsType)
                        {
                            case QuestionsTypeEnum.ChoiceOne:
                                if (options != null)
                                {

#line default
#line hidden
            BeginContext(1318, 42, true);
            WriteLiteral("                                    <ul>\r\n");
            EndContext();
#line 34 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
                                         foreach (var op in options)
                                        {

#line default
#line hidden
            BeginContext(1473, 94, true);
            WriteLiteral("                                            <li><input type=\"radio\" name=\"optionId\" data-oid=\"");
            EndContext();
            BeginContext(1569, 5, false);
#line 36 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
                                                                                          Write(op.Id);

#line default
#line hidden
            EndContext();
            BeginContext(1575, 1, true);
            WriteLiteral("\"");
            EndContext();
            BeginWriteAttribute("title", " title=\"", 1576, "\"", 1613, 3);
#line 36 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
WriteAttributeValue("", 1584, op.ItemIndex, 1584, 15, false);

#line default
#line hidden
            WriteAttributeValue("", 1599, "、", 1599, 1, true);
#line 36 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
WriteAttributeValue("", 1600, op.Content, 1600, 13, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(1614, 8, true);
            WriteLiteral("></li>\r\n");
            EndContext();
#line 37 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
                                        }

#line default
#line hidden
            BeginContext(1665, 43, true);
            WriteLiteral("                                    </ul>\r\n");
            EndContext();
#line 39 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
                                }
                                break;
                            case QuestionsTypeEnum.ChoiceMore:
                                if (options != null)
                                {

#line default
#line hidden
            BeginContext(1936, 42, true);
            WriteLiteral("                                    <ul>\r\n");
            EndContext();
#line 45 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
                                         foreach (var op in options)
                                        {

#line default
#line hidden
            BeginContext(2091, 97, true);
            WriteLiteral("                                            <li><input type=\"checkbox\" name=\"optionId\" data-oid=\"");
            EndContext();
            BeginContext(2190, 5, false);
#line 47 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
                                                                                             Write(op.Id);

#line default
#line hidden
            EndContext();
            BeginContext(2196, 1, true);
            WriteLiteral("\"");
            EndContext();
            BeginWriteAttribute("title", " title=\"", 2197, "\"", 2234, 3);
#line 47 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
WriteAttributeValue("", 2205, op.ItemIndex, 2205, 15, false);

#line default
#line hidden
            WriteAttributeValue("", 2220, "、", 2220, 1, true);
#line 47 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
WriteAttributeValue("", 2221, op.Content, 2221, 13, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(2235, 27, true);
            WriteLiteral(" lay-skin=\"primary\"></li>\r\n");
            EndContext();
#line 48 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
                                        }

#line default
#line hidden
            BeginContext(2305, 43, true);
            WriteLiteral("                                    </ul>\r\n");
            EndContext();
#line 50 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
                                }
                                break;
                            case QuestionsTypeEnum.FillInTheBlanks:

#line default
#line hidden
            BeginContext(2492, 338, true);
            WriteLiteral(@"                                <div class=""layui-form-item"">
                                    <div class=""layui-input-block"">
                                        <textarea name=""Contents"" placeholder=""请输入内容"" class=""layui-textarea""></textarea>
                                    </div>
                                </div>
");
            EndContext();
#line 58 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
                                break;
                        }
                    }

#line default
#line hidden
            BeginContext(2920, 169, true);
            WriteLiteral("                    <div class=\"layui-form-item\">\r\n                        <div class=\"layui-input-block\">\r\n                            <input type=\"hidden\" name=\"LogId\"");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 3089, "\"", 3119, 1);
#line 63 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
WriteAttributeValue("", 3097, userQuestions.LogId, 3097, 22, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(3120, 70, true);
            WriteLiteral("/>\r\n                            <input type=\"hidden\" name=\"QuestionId\"");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 3190, "\"", 3226, 1);
#line 64 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
WriteAttributeValue("", 3198, userQuestions.QuestionsId, 3198, 28, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(3227, 188, true);
            WriteLiteral("/>\r\n                            <input type=\"hidden\" name=\"OptionIds\"/>\r\n                            <input type=\"hidden\" name=\"Content\"/>\r\n                            <input type=\"hidden\"");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 3415, "\"", 3446, 1);
#line 67 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
WriteAttributeValue("", 3423, userQuestions.QIndex, 3423, 23, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(3447, 155, true);
            WriteLiteral(" name=\"qindex\"/>\r\n                            <input type=\"hidden\" name=\'isend\' value=\"0\" />\r\n                            <input type=\"hidden\" name=\"qtype\"");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 3602, "\"", 3666, 1);
#line 69 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
WriteAttributeValue("", 3610, question!=null ? question.QuestionsType.ToString():"", 3610, 56, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(3667, 57, true);
            WriteLiteral("/>\r\n                            <button class=\"layui-btn\"");
            EndContext();
            BeginWriteAttribute("onclick", " onclick=\"", 3724, "\"", 3775, 3);
            WriteAttributeValue("", 3734, "nextClick(\'form_", 3734, 16, true);
#line 70 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
WriteAttributeValue("", 3750, userQuestions.QIndex, 3750, 23, false);

#line default
#line hidden
            WriteAttributeValue("", 3773, "\')", 3773, 2, true);
            EndWriteAttribute();
            BeginContext(3776, 126, true);
            WriteLiteral(">下一题</button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n    \r\n            </div>\r\n");
            EndContext();
#line 76 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
        }
     }
}

#line default
#line hidden
            BeginContext(3924, 31, true);
            WriteLiteral("<input type=\"hidden\" id=\"total\"");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 3955, "\"", 3991, 1);
#line 79 "D:\gitCode\crm\lsc\lsc.crm\Views\Ques\StartAnswer.cshtml"
WriteAttributeValue("", 3963, Model!=null?Model.Count:0, 3963, 28, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(3992, 6, true);
            WriteLiteral("/>\r\n\r\n");
            EndContext();
            DefineSection("Scripts", async() => {
                BeginContext(4015, 6, true);
                WriteLiteral("\r\n    ");
                EndContext();
                BeginContext(4021, 50, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "17114e70901c6037aa9063c42fb0796d38bc66dd15946", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(4071, 6, true);
                WriteLiteral("\r\n    ");
                EndContext();
                BeginContext(4077, 46, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "17114e70901c6037aa9063c42fb0796d38bc66dd17202", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(4123, 3528, true);
                WriteLiteral(@"
    <script>

        layui.use('form',
            'element',
            'layer',
            function() {
                var form = layui.form;
                var element = layui.element;
                var layer = layui.layer;
            });

        var nextClick = function(a) {
            console.log(a);
            $('#'+a).validate({
                debug: true,
                submitHandler: function (form) {
                    console.log(form);
                    var qtype = $(form).find(""input[name='qtype']"").val();
                    if (qtype === 'ChoiceMore') {
                        
                        var opidInput = $(form).find(""input[name='optionId']:checked"");
                        if (opidInput.length === 0) {
                            layer.msg('至少要选择一项', { icon: 5 });
                            return;
                        }
                        var opids = '';
                        $(opidInput).each(function (index, elsement) {
 ");
                WriteLiteral(@"                           opids = opids + '|' + $(opidInput[index]).attr(""data-oid"");
                        });
                        $(form).find(""input[name='OptionIds']"").val(opids);
                    }
                    if (qtype === 'ChoiceOne') {
                        var ids = $(form).find(""input[name='optionId']:checked"");
                        if (ids.length === 0) {
                            layer.msg('至少要选择一项', { icon: 5 });
                            return;
                        }
                        var id = $(ids[0]).attr(""data-oid"");
                        $(form).find(""input[name='OptionIds']"").val(id);
                    }
                    if (qtype === 'FillInTheBlanks') {
                        console.log($(form).find('textarea')[0]);
                        var content = $(form).find('textarea')[0].value;
                        console.log(content);
                        $(form).find(""input[name='Content']"").val(content);
                 ");
                WriteLiteral(@"   }
                    var total = Number($(""#total"").val());
                    var qid = Number($(form).find(""input[name='qindex']"")[0].value);
                    console.log(total, qid);
                    if (qid < total) {
                        $(form).ajaxSubmit(function (res) {
                            if (res.code === 1) {
                                layer.msg('提交成功', { icon: 6 });
                                $('#' + qid).hide();
                                var next = qid + 1;
                                $('#' + next).show();
                            } else {
                                layer.msg('提交失败', { icon: 5 });
                            }
                        })
                    } else {
                        layer.msg('你已经做完了', { icon: 1 });
                        $(form).find(""input[name='isend']"").val('1');
                        $(form).ajaxSubmit(function (res) {
                            if (res.code === 1) {
             ");
                WriteLiteral(@"                   layer.msg('提交成功', { icon: 6 });
                                window.location = '/Ques/UserAnswerLogList?pageIndex=1';
                            } else {
                                layer.msg('提交失败', { icon: 5 });
                            }
                        })
                    }

                    return false;
                    
                }
            })
        }
       
    </script>
");
                EndContext();
            }
            );
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<List<lsc.Model.UserQuestions>> Html { get; private set; }
    }
}
#pragma warning restore 1591
